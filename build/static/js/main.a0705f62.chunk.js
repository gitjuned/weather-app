(this.webpackJsonprichpanel=this.webpackJsonprichpanel||[]).push([[0],{153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(41),c=a.n(i),l=(a(58),a(42)),o=a(43),s=a(52),u=a(51),m=a(15),h=a.n(m),d=a(44),p=(a(153),a(46)),f=a.n(p),y=a(47),g=a.n(y),E=a(48),v=a.n(E),b=a(49),w=a.n(b),k=a(50),D=a.n(k);function x(e){var t=e.type;return"Cloudy"===t?r.a.createElement("img",{src:D.a,alt:"cloud"}):"Rains"===t?r.a.createElement("img",{src:w.a,alt:"rain"}):r.a.createElement("img",{src:v.a,alt:"sun"})}var S=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getLocation=function(){fetch("http://ip-api.com/json").then((function(e){return e.json()})).then((function(e){var t="http://api.openweathermap.org/data/2.5/forecast?lat=".concat(e.lat,"&lon=").concat(e.lon,"&appid=e3b248023441205c44963ae49d6e8724&units=metric&mode=json");n.getData(t)}))},n.handleSearch=function(e){var t=e.target.value;console.log("handle search"),n.setState({searchQuery:t})},n.handleButtonClick=function(){console.log("button clicked",n.state.searchQuery),n.byCity(n.state.searchQuery)},n.state={searchQuery:"",data:null,days:null,currentDay:null,chartData:{labels:["Boston","Worcester","Springfield","Lowell","Cambridge","New Bedford"],datasets:[{data:[617594,181045,153060,106519,105162,95072],lineTension:.25,fill:!1,borderColor:"lightblue",pointBorderColor:"lightblue",pointBackgroundColor:"white",borderDash:[],pointRadius:5,pointHoverRadius:10,pointHitRadius:30,pointBorderWidth:2,pointStyle:"rectRounded"}]}},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getLocation()}},{key:"byCity",value:function(e){var t="http://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=e3b248023441205c44963ae49d6e8724&units=metric&mode=json");this.getData(t)}},{key:"getData",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){for(var a=[],n=[],r=[],i=0;i<e.list.length;)a.push(e.list[i]),i+=8;for(var c=0;c<=4;c++){var l=h()(e.list[c].dt_txt).format("hha"),o=e.list[c].main.temp;r.push(o),n.push(o+"\xb0 "+l)}t.setState({data:e,days:[].concat(a),currentDay:e.list[0],chartData:{labels:[].concat(n),datasets:[{data:[].concat(r)}]}})}),(function(e){alert("Some Error Occured! check console for error"),console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"input-wrapper box-with-shadow"},r.a.createElement("div",{className:"left-block"},r.a.createElement("img",{src:f.a,alt:"location-icon"}),r.a.createElement("input",{type:"text",placeholder:"City",value:this.state.searchQuery,onChange:function(t){return e.handleSearch(t)}})),r.a.createElement("button",{type:"button",onClick:this.handleButtonClick},r.a.createElement("img",{src:g.a,alt:"search-icon"}))),r.a.createElement("div",{className:"days"},this.state.days&&this.state.days.map((function(e){return r.a.createElement("div",{className:"day",key:e.dt},r.a.createElement("h6",null,h()(e.dt_txt.substring(0,10)).format("ddd")),r.a.createElement("h5",null,e.main.temp_max.toString().substring(0,2),"\xb0",r.a.createElement("span",null,e.main.temp_min.toString().substring(0,2),"\xb0")),r.a.createElement(x,{type:e.weather[0].description}),r.a.createElement("p",null,e.weather[0].main))}))),this.state.currentDay&&this.state.chartData&&r.a.createElement("div",{className:"day-info box-with-shadow br-6"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,this.state.currentDay.main.temp.toString().substring(0,2),"\u2103"),r.a.createElement(x,{type:this.state.currentDay.weather[0].description})),r.a.createElement(d.a,{data:this.state.chartData,options:{layout:{padding:10},title:{display:!1},legend:{display:!1,labels:{fontSize:80}},ticks:{display:!1},scales:{xAxes:[{ticks:{fontSize:8,fontColor:"black"}}],yAxes:[{display:!1}]}}}),r.a.createElement("div",{className:"more-info"},r.a.createElement("span",null,r.a.createElement("h5",null,"Pressure"),r.a.createElement("h6",null,this.state.currentDay.main.pressure," hpa")),r.a.createElement("span",null,r.a.createElement("h5",null,"Humidity"),r.a.createElement("h6",null,this.state.currentDay.main.humidity," %"))),r.a.createElement("div",{className:"more-info sun-rise-set"},r.a.createElement("span",null,r.a.createElement("h5",null,"Sunrise"),r.a.createElement("h6",null,"7.30am")),r.a.createElement("span",null,r.a.createElement("h5",null,"Sunset"),r.a.createElement("h6",null,"6.00pm")))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){e.exports=a.p+"static/media/location.f57e4161.svg"},47:function(e,t,a){e.exports=a.p+"static/media/search.c4127766.svg"},48:function(e,t,a){e.exports=a.p+"static/media/sun.02f11d1f.svg"},49:function(e,t,a){e.exports=a.p+"static/media/rain.18df2e48.svg"},50:function(e,t,a){e.exports=a.p+"static/media/cloudy.849e970e.svg"},53:function(e,t,a){e.exports=a(154)},58:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.a0705f62.chunk.js.map